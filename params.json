{"name":"Wear 101","tagline":"Android wear codelab for FIT 2014","body":"## Welcome\r\nAs you may already know, wearable devices have arrived. We are right now being witnesses of a new era on personal computing. We are about to enter a world where we'll connected 24/7. This can be truly awesome, but can also be terryble. Being connected all the time means having to deal with a lot of information constantly, this can be very distracting, and even frustrating.\r\n\r\nThis is where wearables should be the hero, a wearable device must only be noticed when needed, and passed unnoticed the rest of the time.\r\n\r\nThis means you are at the right time to start making cool stuff with wearables, hopefully this codelab will be just the kickstart you have been waiting for.\r\n\r\nAs you already know, Android Wear is the newest platform for wearable devices from Google. It leverages on the power of the Android platform you already know. And therefore provides great compatibility with existing Android applications you have already built. \r\n\r\nIf your Android app uses Notifications, then chances are these notifications will show up on an Android Wear compatible device with no extra work. How awesome is that?\r\n\r\nBut, you can make a little work and improve the experience significatively. We will work on this today.\r\n\r\n### Getting the source\r\n\r\nLet's get started by downloading the codelab base code, you can find links for doing this on the right side of the page. Or just follow this [link](https://github.com/diegofigueroa/fit-wear-lab/archive/master.zip)\r\nExtract the `.zip` file contents in some place you remember, we'll use this later.\r\n\r\n### Steps\r\n\r\nThe codelab is split into the following steps:\r\n\r\n1. Getting started\r\n2. Set up an Android Virtual Device (AVD) for Wear\r\n3. Showing my first notification on Wear\r\n4. Extending notifications for Wear\r\n5. Done!\r\n\r\nLet's get started! Scroll down to see your first step.\r\n\r\n## 1. Getting started\r\nSet up the Android Studio project and explore the sample app.\r\n\r\n1. [Welcome!](/fit-wear-lab/#welcome-1)\r\n2. [Start Android Studio and import the Android Wear codelab project](/fit-wear-lab/#start-android-studio-and-import-the-android-wear-codelab-project)\r\n3. [Build the sample app](/fit-wear-lab/#build-the-sample-app)\r\n4. [Run the sample app](/fit-wear-lab/#run-the-sample-app)\r\n5. [Explore the app and the code](/fit-wear-lab/#explore-the-app-and-the-code)\r\n6. [Test app functionality](/fit-wear-lab/#test-app-functionality)\r\n\r\n#### Welcome!\r\n\r\nIn this codelab you will modify a **very** simple Android application. It's designed to be a playground where you can build wathever you want using Android Notifications,\r\nmaking them look beatiful on an Android Wear device, but also being useful and easy to work with.\r\n\r\nCurrently, users can launch the app from the Android launcher and tap a button to fire a very simple Android notification. Nothing very interesting so far.\r\n\r\nYou will update this application to include different kind of notifications, and also extending them to take advantage of Android Wear features.\r\n\r\nThe three things you will learn in this codelab are:  \r\n\r\n1. Display notifications on Wear.\r\n2. Include Actions on Android notifications.\r\n3. Extend Android Notifications to be even more useful on a wearable device.\r\n\r\nYou will need to set up the following resources.\r\n\r\n* Android Studio.\r\n* Android device or emulator to test with.\r\n* Android Wear device or emulator to test with.\r\n\r\n#### Start Android Studio and import the Android Wear codelab project\r\n\r\n1. Open Android studio\r\n2. In Android Studio, choose File -> Import Project and import the project you downloaded a few minutes ago.\r\n3. After the import, your project will appear in Android Studio.\r\n\r\n#### Build the sample app\r\n\r\n1. Select Build > Make Project. This will build the entire project. Make sure build completes without errors.\r\n\r\n#### Run the sample app\r\n\r\nIf you have a physical device, connect it to your codelab machine via USB.  \r\nIf you don't have a physical device you can use an emulator (AVD), you should find one alredy created for you.\r\n\r\n1. In Android Studio, click (`Shift-F10`) to run the Android app.\r\n2. To run on your connected device, click Choose a running device and then click the device. (Or you can launch on an emulator.)\r\n3. Wait for the device to launch the application.\r\n4. You will eventually see the main screen with a simple button.\r\n\r\n#### Explore the app and the code\r\n\r\nThis simple app consists of a main activity showing a button. \r\n\r\nYou shuld find the following code files.\r\n\r\n* `MainActivity.java`: The main entry point for the app. It shows the button.\r\n* `VoiceCommandActivity.java`: This will eventually show the result of giving a voice command to your watch.\r\n* `The AndroidManifest.xml` file configures the app components.\r\n* `activity_main.xml`, `activity_voice_command.xml`: Set up the UI of the visible components.\r\n* Other files define image, string constants and other kind of resources.\r\n\r\n#### Test app functionality\r\n\r\n1. If the app is not already running, click (`Shift-F10`) in Android Studio to launch it.\r\n2. On the main screen, tap the button.\r\n3. A simple notification should be shown on the screen.\r\n\r\n\r\n## 2. Set up an Android Virtual Device (AVD) for Wear\r\n\r\nYour codelab computer should have a working Android Studio installation, including AVDs for Android Wear and Android.\r\n\r\nIn this codelab we'll need a working AVD for Android Wear, and an Android device running Android 4.3+. These two devices should be configured\r\nto be paired together. In order to achieve this, you will need:\r\n\r\n1. Install the Android Wear application on your Android device from the Play Store.\r\n2. Start your Android Wear AVD from the AVD Manager using Android Studio.\r\n3. Set up adb to allow incoming connections for your Android Wear AVD: `adb -d forward tcp:5601 tcp:5601`.\r\n4. Open the Android Wear app on your phone, select `Pair with a new wearable` > Tap the settings button at the top > `Pair with emulator`.\r\n5. If you got lucky, your AVD will be paired now with your phone.\r\n5.1 If you found issues, try the following:\r\n5.2 `adb kill-server`\r\n5.3 `abd start-server`\r\n5.4 `adb -d forward tcp:5601 tcp:5601`\r\n\r\n\r\nYour phone should be now set up to an emulated (or real Android Wear device if available) Android Wear device, you are now ready to start doing some cool stuff.\r\n\r\n\r\n## 3. Showing my first notification on Wear\r\n\r\nFire up the simple application on your phone, and tap the only button on the screen. This should show a very simple notification on your watch.\r\nPretty cool, right? You will be doing much more neat stuff from now on, get ready!\r\n\r\n\r\n## 4. Extending notifications for Wear\r\n\r\nLet's do some updates the app, we will add some new features, in order to take advantage of some of the nice stuff Android provides to create notifications.\r\n\r\n### 4.1 Notifications with Actions\r\n\r\nLet's start by adding a new button on the `MainActivity`, this button should trigger a notification, but unlike the notifications being showed so far, this will include actions.\r\nNotification actions allows a user to do more, like replying to a message, favoriting a Tweet, confirming a download, etc. from the notification itself.\r\n\r\nThe cool thing about this actions, is that without doing anything special, this actions will also be available on your watch. This means that your users will be able to interact\r\nwith this kind of notifications without pulling up their phone, just by tapping on their watches. This is great!\r\n\r\nWhat you will do:\r\n\r\n1. Add a button element to `activity_main.xml` layout, (you can just uncomment the one at the bottom, or add a new one). Remember to add `onClick` handler.\r\n2. Add a method on `MainActitivy.java` to handle the `onClick` event on the button. This method is the one that will trigger the notification.\r\n3. Create a notifcation using `NotificationCompat.Builder`, remember to set a title, content and icon.\r\n4. Use `addAction` on the notification builder to add an action to the notification being built.\r\n5. Get an instance of `NotificationManagerCompat` and send the notification. You should be able to see it on your watch. Swipe left and find your action!\r\n\r\n### 4.2 Notifications with Actions specially designed for Wear\r\n\r\nAdding actions to notifications is very useful, and provides quick access to common needs of your users. But there will be cases where having the same set of actions\r\non phones and wearables won't work. This may be for several reasons, maybe some action just won't make sense on a wearable, or you may want to show some actions just on a wearable and not on phones.\r\n\r\nDon't worry, Android have you covered. Introducing `NotificationCompat.WearableExtender`, this guy allows to extend a regular notifications with features specially designed for wearable devices.\r\nFor example, you can add actions using `NotificationCompat.Action`. And the best part, is that it's fairly simple, almost the same as you have been using notifications before.\r\n\r\nWhat you will do:\r\n\r\n1. Add a button element to `activity_main.xml` layout, that triggers a notification with extended actions for Wear. Remember to add `onClick` handler.\r\n2. Add a method on `MainActitivy.java` to handle the `onClick` event on the button. This method is the one that will trigger the notification.\r\n3. Create a notifcation using `NotificationCompat.Builder` and `NotificationCompat.WearableExtender`, remember to set a title, content and icon. Add at least one action only for Wear.\r\n4. Use `extend` on the notification builder to pass the notification extender with the Wear action the notification being built.\r\n5. Get an instance of `NotificationManagerCompat` and send the notification. You should be able to see it on your watch. Swipe left and find your actions!\r\n\r\n### 4.3 Let's listen to your users\r\n\r\nHaving actions on Wear notifications is good, but it won't get your users too far if we don't provide a way for them to give input.\r\nShowing a keyboard on a watch just won't work. But, we have something better, we can take input from voice! Android notitications can expose actions that listen to your users, and\r\nuse voice recognition to convert your user's voice into text. This way your users will be able to send messages, and do almost anything effortless.\r\n\r\nLet's add some voice capabilities to our notifications, don't worry, it's very easy and very fun to do.\r\n\r\nAll you need is some help from `NotificationCompat.Action` and our new friend, `RemoteInput.Builder`.  \r\n`RemoteInput.Builder` allows you to build a `RemoteInput` object, that can be added to a `NotificationCompatAction`, allowing your users to speak commands.\r\n\r\nWhat you will do:\r\n\r\n1. Add a button element to `activity_main.xml` layout, that triggers a notification with extended voice actions for Wear. Remember to add `onClick` handler.\r\n2. Add a method on `MainActitivy.java` to handle the `onClick` event on the button. This method is the one that will trigger the notification.\r\n3. Create a notifcation using `NotificationCompat.Builder` and `NotificationCompat.WearableExtender`, `NotificationCompat.Action` and `RemoteInput.Builder` to build a voice-powered notification.\r\n4. Configure the voice action to call `VoiceCommandActivity`.\r\n5. Use `extend` on the notification builder to pass the notification extender with the Wear action the notification being built.\r\n6. Get an instance of `NotificationManagerCompat` and send the notification. You should be able to see it on your watch. Swipe left, tap on the action, and say something!\r\n7. Update `VoiceCommandActivity.java` to retrieve the speech-to-text value from the `RemoteInput` and show it as part of the activity.\r\n\r\n### 4.4 Let's add some style to our notifications\r\n\r\nSo far we found different ways to allow our users to take action on the information we make availaable to them. But, all this notifications look more or less the same.\r\nThere will be cases where you will find that not all notifications are as effective with the default look and feel. This is why Android provides different notification styles like:\r\n\r\n* `NotificationCompat.BigPictureStyle`\r\n* `NotificationCompat.BigTextStyle`\r\n* `NotificationCompat.InboxStyle`\r\n\r\nThis styles can give your notifications a more appropiate look, if you want to emphasize content like images, go with `BigPictureStyle`, if you need more space for text, use `BigTextStyle`.\r\n\r\nWhat you will do:\r\n\r\n1. Add a button element to `activity_main.xml` layout, that triggers a notification with some styling. Remember to add `onClick` handler.\r\n2. Add a method on `MainActitivy.java` to handle the `onClick` event on the button. This method is the one that will trigger the notification.\r\n3. Create a notifcation using `NotificationCompat.Builder` and one of the `NotificationCompat.Style` classes to add a style to a notification.\r\n4. Get an instance of `NotificationManagerCompat` and send the notification. You should be able to see it on your watch. Swipe left, tap on the action, and say something!\r\n\r\n## 5. Done!\r\n\r\nOk, we have done a lot of stuff with notifications today. But there is still more.\r\n\r\nIf interested, take a look on how to group notifications together, giving your users a better way to handle multiple notification from the same app.\r\nAlso, take a look at how yo create custom notifications using layouts, this allows for maximum flexibility so don't feel restriced by the existing styles.\r\nAnd remember to look for adding notification pages, or notification stacks.\r\n\r\n\r\n### Congratulations!\r\n\r\nYou are now ready to start building amazing experiences for your users, taking advantage of many of the great features of Android Wear.\r\nRemember, this is just the begnning!\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}